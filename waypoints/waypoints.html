<div id="waypoints">
	<a id="dlPdfLink" href="php/navplanPdf.php" target="_blank" download="navplan.pdf" ng-click="createPdfNavplan()">DL PDF</a>&nbsp;
	<a id="dlExcelLink" href="php/navplanExcel.php" target="_blank" download="navplan.xlsx" ng-click="createExcelNavplan()">DL Excel</a>
    <div>
        Load Navplan:
        <select>
			<option ng-repeat="navplan in globalData.user.navplanList" value="{{ navplan.id }}">{{ navplan.title }}</option>
        </select>
		<button type="button" class="btn" ng-click="loadNavplan();">Load</button>
    </div>	
	<div class="container-fluid">
		<div class="row waypoint-entry" ng-repeat="wp in globalData.waypoints"><!-- waypoint list -->
			<div class="col-xs-11">
				<div class="row">
					<div class="col-md-4 col-md-push-2 col-xs-12">
						<div class="row">
							<div class="col-xs-8"><!-- checkpoint -->
								<input type="text" class="form-control" tabindex="{{ $index * 6 + 7 }}"  placeholder="Checkpoint" ng-model="wp.checkpoint"
								typeahead="geoname.name for geoname in searchGeonamesByValue($viewValue)" typeahead-min-length="2"
								typeahead-loading="loadingLocations" typeahead-on-select="onGeonameSelect($item, wp)"
								ng-blur="updateTrack()" />
							</div>
							<div class="col-xs-4"><!-- alt -->
								<input type="text" class="form-control" maxlength="5" size="3"  tabindex="{{ $index * 6 + 8 }}" placeholder="Alt." ng-model="wp.alt" />
							</div>
						</div>
					</div>
					<div class="col-md-2 col-md-pull-4 col-xs-8">
						<div class="row">
							<div class="col-xs-6"><!-- frequency -->
								<input type="text" class="form-control" maxlength="7" size="4" tabindex="{{ $index * 6 + 11 }}" placeholder="Freq." ng-model="wp.freq" />
							</div>
							<div class="col-xs-6"><!-- callsign -->
								<input type="text" class="form-control" maxlength="7" size="4" tabindex="{{ $index * 6 + 12 }}" placeholder="C/S" ng-model="wp.callsign" />
							</div>
						</div>
					</div>
					<div class="col-md-3 col-xs-4">
						<div class="row" ng-hide="$first">
							<div class="col-xs-4">MT {{ wp.mtText }}</div><!-- mt -->
							<div class="col-xs-4">Dist {{ wp.distText }}</div><!-- dist -->
							<div class="col-xs-4">EET {{ wp.eetText }}</div><!-- eet -->
						</div>
					</div>
					<div class="col-md-3 col-xs-12"><!-- remarks -->
						<input type="text" class="form-control" tabindex="{{ $index * 6 + 9 }}" placeholder="Remarks" ng-model="wp.remark" />
					</div>
				</div>
			</div>
			<div class="col-xs-1">
				<button type="button" class="btn btn-danger btn-circle" tabindex="{{ $index * 6 + 10 }}" ng-click="removeWaypoint($index); focusNewWpInput();"><i class="glyphicon glyphicon-remove"></i></button>
			</div>			
		</div>
		<div class="row waypoint-entry"><!-- new waypoint -->
			<div class="col-xs-11">
				<div class="row">
					<div class="col-md-4 col-md-push-2 col-xs-12">
						<div class="row">
							<div class="col-xs-8"><!-- checkpoint -->
								<input id="newWpInput" type="text" class="form-control" tabindex="101" placeholder="Checkpoint" ng-model="newWp.checkpoint"
								typeahead="geoname.name for geoname in searchGeonamesByValue($viewValue)" typeahead-min-length="2"
								typeahead-loading="loadingLocations" typeahead-on-select="onGeonameSelect($item, wp)"
								ng-blur="updateTrack()">
							</div>
							<div class="col-xs-4"><!-- alt -->
								<input type="text" class="form-control" maxlength="5" size="3" tabindex="102" placeholder="Alt." ng-model="newWp.alt">
							</div>
						</div>
					</div>
					<div class="col-md-2 col-md-pull-4 col-xs-8">
						<div class="row">
							<div class="col-xs-6"><!-- frequency -->
								<input type="text" class="form-control" maxlength="7" size="4" tabindex="105" placeholder="Freq." ng-model="newWp.freq">
							</div>
							<div class="col-xs-6"><!-- callsign -->
								<input type="text" class="form-control" maxlength="7" size="4" tabindex="106" placeholder="C/S" ng-model="newWp.callsign">
							</div>
						</div>
					</div>
					<div class="col-md-3 col-xs-4">
						<div class="row">
							<div class="col-xs-4">MT {{ wp.mtText }}</div><!-- mt -->
							<div class="col-xs-4">Dist {{ wp.distText }}</div><!-- dist -->
							<div class="col-xs-4">EET {{ wp.eetText }}</div><!-- eet -->
						</div>
					</div>
					<div class="col-md-3 col-xs-12"><!-- remarks -->
						<input type="text" class="form-control" tabindex="103" placeholder="Remarks" ng-model="newWp.remark">
					</div>
				</div>
			</div>
			<div class="col-xs-1">
				<button type="button" class="btn btn-success btn-circle" tabindex="104" ng-click="addWaypoint(); focusNewWpInput();"><i class="glyphicon glyphicon-plus"></i></button>
			</div>					
		</div>
	</div>
</div>
